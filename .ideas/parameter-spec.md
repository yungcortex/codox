# Codox - Parameter Specification

**CRITICAL CONTRACT:** This specification is immutable during implementation.

**Generated by:** UI mockup finalization (ui-mockup skill, v6)
**Generated date:** 2026-01-01
**Source:** v6-ui.yaml (finalized mockup)

## Total Parameter Count

**Total:** 50 parameters (47 audio parameters + 3 UI-only buttons)

## Parameter Categories

### Header Controls (3)
- master_volume (audio parameter)
- preset_prev (UI-only button - no APVTS binding)
- preset_next (UI-only button - no APVTS binding)
- randomize (UI-only button - triggers parameter randomization)
- preset_name (UI-only combo - managed by preset system)

### Oscillator A (9 parameters)
- osc_a_wavetable, osc_a_position, osc_a_level, osc_a_pan
- osc_a_octave, osc_a_semitone, osc_a_fine
- osc_a_warp_mode, osc_a_warp_amount

### Oscillator B (9 parameters)
- osc_b_wavetable, osc_b_position, osc_b_level, osc_b_pan
- osc_b_octave, osc_b_semitone, osc_b_fine
- osc_b_warp_mode, osc_b_warp_amount

### Sub + Noise (4 parameters)
- sub_shape, sub_octave, sub_level
- noise_type, noise_level

### Filter (6 parameters)
- filter_type, filter_cutoff, filter_resonance, filter_drive
- filter_env_depth, filter_keytrack

### Amp Envelope (4 parameters)
- amp_attack, amp_decay, amp_sustain, amp_release

### Filter Envelope (4 parameters)
- filt_attack, filt_decay, filt_sustain, filt_release

### LFOs (12 parameters - 4 LFOs x 3 params each)
- lfo1_shape, lfo1_rate, lfo1_sync
- lfo2_shape, lfo2_rate, lfo2_sync
- lfo3_shape, lfo3_rate, lfo3_sync
- lfo4_shape, lfo4_rate, lfo4_sync

### Macros + Voice (7 parameters)
- macro1, macro2, macro3, macro4
- unison_voices, unison_detune, glide_time

### Effects (8 parameters)
- fx_distortion_mix, fx_chorus_mix, fx_phaser_mix, fx_flanger_mix
- fx_delay_mix, fx_reverb_mix, fx_eq_mix, fx_compressor_mix

## Parameter Definitions

### master_volume
- **ID:** `master_volume`
- **Type:** Float
- **Range:** -60.0 to 6.0 dB
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Horizontal slider, header right
- **DSP Usage:** Master output level

### osc_a_wavetable
- **ID:** `osc_a_wavetable`
- **Type:** Choice (Int)
- **Range:** 0 to 3 (Basic, Analog, Digital, Vocal)
- **Default:** 0 (Basic)
- **UI Control:** Dropdown, OSC A section
- **DSP Usage:** Wavetable selection for oscillator A

### osc_a_position
- **ID:** `osc_a_position`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC A section
- **DSP Usage:** Wavetable frame position/morphing

### osc_a_level
- **ID:** `osc_a_level`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 100.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC A section
- **DSP Usage:** Oscillator A output level

### osc_a_pan
- **ID:** `osc_a_pan`
- **Type:** Float
- **Range:** -100.0 to 100.0 (L to R)
- **Default:** 0.0 (center)
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC A section
- **DSP Usage:** Oscillator A stereo panning

### osc_a_octave
- **ID:** `osc_a_octave`
- **Type:** Choice (Int)
- **Range:** -4 to +4 (9 options)
- **Default:** 0
- **UI Control:** Dropdown, OSC A section
- **DSP Usage:** Oscillator A octave transpose

### osc_a_semitone
- **ID:** `osc_a_semitone`
- **Type:** Int
- **Range:** -12 to 12 semitones
- **Default:** 0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC A section
- **DSP Usage:** Oscillator A semitone detune

### osc_a_fine
- **ID:** `osc_a_fine`
- **Type:** Int
- **Range:** -100 to 100 cents
- **Default:** 0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC A section
- **DSP Usage:** Oscillator A fine tuning

### osc_a_warp_mode
- **ID:** `osc_a_warp_mode`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (Sync, Bend+, FM, AM, PWM)
- **Default:** 0 (Sync)
- **UI Control:** Dropdown, OSC A section
- **DSP Usage:** Warp/modulation algorithm selection

### osc_a_warp_amount
- **ID:** `osc_a_warp_amount`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC A section
- **DSP Usage:** Warp effect intensity

### osc_b_wavetable
- **ID:** `osc_b_wavetable`
- **Type:** Choice (Int)
- **Range:** 0 to 3 (Basic, Analog, Digital, Vocal)
- **Default:** 0 (Basic)
- **UI Control:** Dropdown, OSC B section
- **DSP Usage:** Wavetable selection for oscillator B

### osc_b_position
- **ID:** `osc_b_position`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC B section
- **DSP Usage:** Wavetable frame position/morphing

### osc_b_level
- **ID:** `osc_b_level`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 100.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC B section
- **DSP Usage:** Oscillator B output level

### osc_b_pan
- **ID:** `osc_b_pan`
- **Type:** Float
- **Range:** -100.0 to 100.0 (L to R)
- **Default:** 0.0 (center)
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC B section
- **DSP Usage:** Oscillator B stereo panning

### osc_b_octave
- **ID:** `osc_b_octave`
- **Type:** Choice (Int)
- **Range:** -4 to +4 (9 options)
- **Default:** 0
- **UI Control:** Dropdown, OSC B section
- **DSP Usage:** Oscillator B octave transpose

### osc_b_semitone
- **ID:** `osc_b_semitone`
- **Type:** Int
- **Range:** -12 to 12 semitones
- **Default:** 0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC B section
- **DSP Usage:** Oscillator B semitone detune

### osc_b_fine
- **ID:** `osc_b_fine`
- **Type:** Int
- **Range:** -100 to 100 cents
- **Default:** 0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC B section
- **DSP Usage:** Oscillator B fine tuning

### osc_b_warp_mode
- **ID:** `osc_b_warp_mode`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (Sync, Bend+, FM, AM, PWM)
- **Default:** 0 (Sync)
- **UI Control:** Dropdown, OSC B section
- **DSP Usage:** Warp/modulation algorithm selection

### osc_b_warp_amount
- **ID:** `osc_b_warp_amount`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, OSC B section
- **DSP Usage:** Warp effect intensity

### sub_shape
- **ID:** `sub_shape`
- **Type:** Choice (Int)
- **Range:** 0 to 2 (Sine, Triangle, Square)
- **Default:** 0 (Sine)
- **UI Control:** Dropdown, Sub section
- **DSP Usage:** Sub oscillator waveform shape

### sub_octave
- **ID:** `sub_octave`
- **Type:** Choice (Int)
- **Range:** -2 to 0 (3 options)
- **Default:** -1
- **UI Control:** Dropdown, Sub section
- **DSP Usage:** Sub oscillator octave offset

### sub_level
- **ID:** `sub_level`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Sub section
- **DSP Usage:** Sub oscillator output level

### noise_type
- **ID:** `noise_type`
- **Type:** Choice (Int)
- **Range:** 0 to 2 (White, Pink, Digital)
- **Default:** 0 (White)
- **UI Control:** Dropdown, Noise section
- **DSP Usage:** Noise generator algorithm

### noise_level
- **ID:** `noise_level`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Noise section
- **DSP Usage:** Noise generator output level

### filter_type
- **ID:** `filter_type`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (LP 24dB, LP 12dB, HP 24dB, BP 12dB, Notch)
- **Default:** 0 (LP 24dB)
- **UI Control:** Dropdown, Filter section
- **DSP Usage:** Filter algorithm selection

### filter_cutoff
- **ID:** `filter_cutoff`
- **Type:** Float
- **Range:** 20.0 to 20000.0 Hz
- **Default:** 20000.0
- **Skew Factor:** logarithmic (frequency scale)
- **UI Control:** Large rotary knob, Filter section
- **DSP Usage:** Filter cutoff frequency

### filter_resonance
- **ID:** `filter_resonance`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Filter section
- **DSP Usage:** Filter resonance/Q factor

### filter_drive
- **ID:** `filter_drive`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Filter section
- **DSP Usage:** Filter saturation/drive

### filter_env_depth
- **ID:** `filter_env_depth`
- **Type:** Float
- **Range:** -100.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Filter section
- **DSP Usage:** Filter envelope modulation depth

### filter_keytrack
- **ID:** `filter_keytrack`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Filter section
- **DSP Usage:** Filter keyboard tracking amount

### amp_attack
- **ID:** `amp_attack`
- **Type:** Float
- **Range:** 0.0 to 10.0 seconds
- **Default:** 0.01
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob with ADSR visualization, Amp Envelope section
- **DSP Usage:** Amplitude envelope attack time

### amp_decay
- **ID:** `amp_decay`
- **Type:** Float
- **Range:** 0.0 to 10.0 seconds
- **Default:** 0.1
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob with ADSR visualization, Amp Envelope section
- **DSP Usage:** Amplitude envelope decay time

### amp_sustain
- **ID:** `amp_sustain`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 100.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob with ADSR visualization, Amp Envelope section
- **DSP Usage:** Amplitude envelope sustain level

### amp_release
- **ID:** `amp_release`
- **Type:** Float
- **Range:** 0.0 to 10.0 seconds
- **Default:** 0.2
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob with ADSR visualization, Amp Envelope section
- **DSP Usage:** Amplitude envelope release time

### filt_attack
- **ID:** `filt_attack`
- **Type:** Float
- **Range:** 0.0 to 10.0 seconds
- **Default:** 0.01
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob with ADSR visualization, Filter Envelope section
- **DSP Usage:** Filter envelope attack time

### filt_decay
- **ID:** `filt_decay`
- **Type:** Float
- **Range:** 0.0 to 10.0 seconds
- **Default:** 0.1
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob with ADSR visualization, Filter Envelope section
- **DSP Usage:** Filter envelope decay time

### filt_sustain
- **ID:** `filt_sustain`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 50.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob with ADSR visualization, Filter Envelope section
- **DSP Usage:** Filter envelope sustain level

### filt_release
- **ID:** `filt_release`
- **Type:** Float
- **Range:** 0.0 to 10.0 seconds
- **Default:** 0.2
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob with ADSR visualization, Filter Envelope section
- **DSP Usage:** Filter envelope release time

### lfo1_shape
- **ID:** `lfo1_shape`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (Sine, Triangle, Saw, Square, S&H)
- **Default:** 0 (Sine)
- **UI Control:** Dropdown with waveform preview, LFO section
- **DSP Usage:** LFO1 waveform shape

### lfo1_rate
- **ID:** `lfo1_rate`
- **Type:** Float
- **Range:** 0.01 to 100.0 Hz
- **Default:** 1.0
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob, LFO section
- **DSP Usage:** LFO1 frequency/rate

### lfo1_sync
- **ID:** `lfo1_sync`
- **Type:** Bool
- **Range:** On/Off
- **Default:** Off (false)
- **UI Control:** Toggle button, LFO section
- **DSP Usage:** LFO1 tempo sync enable

### lfo2_shape
- **ID:** `lfo2_shape`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (Sine, Triangle, Saw, Square, S&H)
- **Default:** 0 (Sine)
- **UI Control:** Dropdown with waveform preview, LFO section
- **DSP Usage:** LFO2 waveform shape

### lfo2_rate
- **ID:** `lfo2_rate`
- **Type:** Float
- **Range:** 0.01 to 100.0 Hz
- **Default:** 1.0
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob, LFO section
- **DSP Usage:** LFO2 frequency/rate

### lfo2_sync
- **ID:** `lfo2_sync`
- **Type:** Bool
- **Range:** On/Off
- **Default:** Off (false)
- **UI Control:** Toggle button, LFO section
- **DSP Usage:** LFO2 tempo sync enable

### lfo3_shape
- **ID:** `lfo3_shape`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (Sine, Triangle, Saw, Square, S&H)
- **Default:** 0 (Sine)
- **UI Control:** Dropdown with waveform preview, LFO section
- **DSP Usage:** LFO3 waveform shape

### lfo3_rate
- **ID:** `lfo3_rate`
- **Type:** Float
- **Range:** 0.01 to 100.0 Hz
- **Default:** 1.0
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob, LFO section
- **DSP Usage:** LFO3 frequency/rate

### lfo3_sync
- **ID:** `lfo3_sync`
- **Type:** Bool
- **Range:** On/Off
- **Default:** Off (false)
- **UI Control:** Toggle button, LFO section
- **DSP Usage:** LFO3 tempo sync enable

### lfo4_shape
- **ID:** `lfo4_shape`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (Sine, Triangle, Saw, Square, S&H)
- **Default:** 0 (Sine)
- **UI Control:** Dropdown with waveform preview, LFO section
- **DSP Usage:** LFO4 waveform shape

### lfo4_rate
- **ID:** `lfo4_rate`
- **Type:** Float
- **Range:** 0.01 to 100.0 Hz
- **Default:** 1.0
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob, LFO section
- **DSP Usage:** LFO4 frequency/rate

### lfo4_sync
- **ID:** `lfo4_sync`
- **Type:** Bool
- **Range:** On/Off
- **Default:** Off (false)
- **UI Control:** Toggle button, LFO section
- **DSP Usage:** LFO4 tempo sync enable

### macro1
- **ID:** `macro1`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 50.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Macros section
- **DSP Usage:** Macro 1 modulation source (user-assignable)

### macro2
- **ID:** `macro2`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 50.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Macros section
- **DSP Usage:** Macro 2 modulation source (user-assignable)

### macro3
- **ID:** `macro3`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 50.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Macros section
- **DSP Usage:** Macro 3 modulation source (user-assignable)

### macro4
- **ID:** `macro4`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 50.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Macros section
- **DSP Usage:** Macro 4 modulation source (user-assignable)

### unison_voices
- **ID:** `unison_voices`
- **Type:** Choice (Int)
- **Range:** 0 to 4 (1, 2, 4, 8, 16 voices)
- **Default:** 0 (1 voice)
- **UI Control:** Dropdown, Voice section
- **DSP Usage:** Number of unison voices per note

### unison_detune
- **ID:** `unison_detune`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 25.0
- **Skew Factor:** linear
- **UI Control:** Rotary knob, Voice section
- **DSP Usage:** Unison voice detuning amount

### glide_time
- **ID:** `glide_time`
- **Type:** Float
- **Range:** 0.0 to 10.0 seconds
- **Default:** 0.0
- **Skew Factor:** logarithmic
- **UI Control:** Rotary knob, Voice section
- **DSP Usage:** Portamento/glide time

### fx_distortion_mix
- **ID:** `fx_distortion_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** Distortion effect wet/dry mix

### fx_chorus_mix
- **ID:** `fx_chorus_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** Chorus effect wet/dry mix

### fx_phaser_mix
- **ID:** `fx_phaser_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** Phaser effect wet/dry mix

### fx_flanger_mix
- **ID:** `fx_flanger_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** Flanger effect wet/dry mix

### fx_delay_mix
- **ID:** `fx_delay_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** Delay effect wet/dry mix

### fx_reverb_mix
- **ID:** `fx_reverb_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** Reverb effect wet/dry mix

### fx_eq_mix
- **ID:** `fx_eq_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** EQ effect wet/dry mix

### fx_compressor_mix
- **ID:** `fx_compressor_mix`
- **Type:** Float
- **Range:** 0.0 to 100.0%
- **Default:** 0.0
- **Skew Factor:** linear
- **UI Control:** Small vertical slider, Effects bar
- **DSP Usage:** Compressor effect wet/dry mix

## UI-Only Controls (No APVTS Parameters)

These controls trigger actions but do not create APVTS parameters:

- **preset_prev** - Button to load previous preset
- **preset_next** - Button to load next preset
- **preset_name** - Dropdown showing current preset name
- **randomize** - Button to randomize all parameters

## Visualization-Only Elements (No Parameters)

These canvas elements are for visual feedback only:

- **osc_a_waveform_display** - Animated wavetable display
- **osc_b_waveform_display** - Animated wavetable display
- **filter_curve_display** - Filter frequency response curve
- **amp_adsr_display** - Amp envelope ADSR curve
- **filt_adsr_display** - Filter envelope ADSR curve
- **lfo1_waveform_preview** - LFO1 shape preview
- **lfo2_waveform_preview** - LFO2 shape preview
- **lfo3_waveform_preview** - LFO3 shape preview
- **lfo4_waveform_preview** - LFO4 shape preview

## Implementation Notes

1. **Parameter Order:** Parameters are implemented in EXACT order during Stage 1 (Shell)
2. **Parameter IDs:** Must remain consistent across all stages (immutable)
3. **UI Controls:** Implemented from v6 mockup during Stage 3 (GUI)
4. **Canvas Visualizations:** Real-time updates driven by parameter changes
5. **Preset System:** Managed separately from individual parameters
6. **Randomize Function:** Triggers random value assignment to all audio parameters

## Type Mapping

- **Float:** `juce::NormalisableRange<float>` + WebSliderRelay
- **Int:** `juce::NormalisableRange<int>` + WebSliderRelay
- **Choice:** `juce::StringArray` options + WebComboBoxRelay
- **Bool:** `juce::AudioParameterBool` + WebToggleButtonRelay

## Relay Count

- **WebSliderRelay:** 38 parameters (all float/int sliders)
- **WebComboBoxRelay:** 8 parameters (all dropdowns)
- **WebToggleButtonRelay:** 4 parameters (all LFO sync toggles)
- **Total Relays:** 50

## Attachment Count

- **WebSliderParameterAttachment:** 38
- **WebComboBoxParameterAttachment:** 8
- **WebToggleButtonParameterAttachment:** 4
- **Total Attachments:** 50
